---
layout: post

category: Computer Architecture.

comments: true
---

# BUS

Bus là một phương tiện di chuyển công cộng rất phổ biến, tiết kiệm và bảo vệ môi trường, ở Hà Nội xe bus thường được sơn màu Đỏ-Vàng, nhưng nay đã xuất hiện thêm các chủng loại Xanh Lá cây và Xanh da trời. Bus ra đời để hạn chế tắc đường và gia tăng tai nạn kinh hoàng. Đấy là xe bus, còn cái mình nói đến trong bài này là Computer Bus, đây lại là một trường phái khác.

Trong máy tính bus là một phương tiện liên lạc giữa hai hoặc nhiều device, nếu Bus trong thành phố vận chuyển người, thì bus trong máy tính vận chuyển tín hiệu. Một tính năng chủ chốt của bus đấy là nó là một môi trường truyền phát dùng chung. Nhiều device kết nối đến một bus, và khi có một tín hiệu được truyền đi bởi một device thì tất cả các device khác đang được attach đến cùng bus sẽ đều có thể nhận được tín hiệu đó. Nếu có hai device cùng truyền tại một thời điểm thì Tín hiệu của chúng sẽ bị overlap, bởi vậy chỉ có một device có thể truyền thành công tại cùng một thời điểm. Giống như lúc bạn ở trên một cái xe bus thì khi bạn hò hét, tất cả mọi người trên xe đều nghe thấy, nếu nhiều người hò hét cùng lúc thì âm thanh trở nên lộn xộn và không ai nghe được ai, ai cũng gật gật cười trừ ra vẻ hiểu nhưng kỳ thực chả hiều cái quái gì.

Thông thường, một Bus chứa nhiều đường truyền tín hiệu, hay bus lines. Mỗi line có khả năng truyền đi các tín hiệu nhị phân (1/0). Qua thời gian, một chuỗi các số nhị phân được truyền đi qua một bus line. Tức là nhiều bus line của một bus có thể được sử dụng để truyền tín hiệu nhị phần một cách đồng thời. 

Hệ thống máy tính chứa một số bus khác nhau cung cấp các đường truyền giữa các thành phần khác nhau ở các level khác nhau trong các tầng của máy tính. Bus kết nối tới nhiều thành phần lớn của máy tính (Processor, Memory, I/O) được gọi là <b>System bus</b>. 

## 1. Bus Structure.
Thông thường, một System bus chứa từ 50 đến 100 line riêng biệt. Mỗi line được gán với một ngữ nghĩa hoặc chức năng cụ thể. Mặc dầu có nhiều thiết kế khác nhau, nhưng các line của bất kỳ bus nào đều có thể được phân lớp thành 3 nhóm chức năng chính: data, address và control line. Thêm nữa, có thể có thêm power distribution line (cung cấp điện năng cho các module được gắn vào bus, ví dụ chuột USB cần điện để chạy).

_ <b>Data line</b> cung cấp một đường truyền để di chuyển dữ liệu giữa các system module. Những line này, được gọi chung là các data bus. Data bus có thể chứa 32, 64, 128 hoặc thậm chí là nhiều hơn nữa các line riêng biệt, số lượng line được xem như là độ rộng (width) của data bus. Bởi vì mỗi Line chỉ có thể chứa 1 bit tại một thời điểm, nên số lượng line sẽ quyết định số lượng bit có thể được truyền tại cùng 1 thời điểm. Độ rộng của data bus cũng là yếu tố chính để xác định performance tổng quan của hệ thống. Ví dụ, nếu data bus có kích thước là 32bits wide(32 line) và mỗi câu lệnh có kích thước 64 bit long, thì processor phải truy cập memory đến 2 lần cho mỗi instruction cycle.
- <b>Address lines</b> được sử dụng để chỉ rõ source và destination của data truyền trong data bus. Ví dụ, nếu processor muốn đọc một word(8,16 hoặc 32bits) từ bộ nhớ, nó sẽ đưa địa chỉ của word cần đọc vào address line. Rõ ràng, độ rộng của address bus quyết định kích thước của địa chỉ khả dĩ của hệ thống(kích thước con trỏ trong C/C++).